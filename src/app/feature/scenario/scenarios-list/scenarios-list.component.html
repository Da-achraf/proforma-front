<div class="w-full max-w-screen-2xl px-2 py-10">
  <p
    class="text-md mb-5 w-fit border-b-2 border-b-blue-400 font-mono font-bold text-orange-500 opacity-75"
  >
    {{ "Scenarios list" | titlecase }}
  </p>
  <ba-generic-table
    [data]="store.scenarios()"
    [total]="store.total()"
    [columns]="columns()"
    [globalFilterFields]="globalFilterFields()"
    [loading]="store.loading()"
    (create)="store.openCreateScenarioDialog()"
    (edit)="store.openUpdateScenarioDialog($event)"
    (delete)="store.openDeleteScenarioDialog($event)"
    (page)="store.setPage($event)"
    (pageSize)="store.setPageSize($event)"
  >
    <ng-template #fieldsCountTemplate let-scenario>
      <div
        class="flex w-fit items-center gap-x-2 rounded-md border border-blue-100 bg-white p-2 font-semibold shadow-md"
      >
        <p class="m-0 text-blue-500">
          {{ scenario.itemsCount }}
        </p>
        <p class="m-0 text-sm font-bold text-blue-500">Fields</p>
      </div>
    </ng-template>

    <ng-template #scenarioStatusTemplate let-scenario>
      @if (scenario.requestCount > 0) {
        <div class="flex items-center text-sm">
          <div
            class="flex w-fit items-center gap-x-3 rounded-bl-md rounded-tl-md border border-green-900 bg-green-50 p-2 text-teal-600 shadow-md"
          >
            <div class="flex items-center gap-x-2">
              <i class="fa-solid fa-circle text-[.5rem] text-teal-400"></i>
              <p class="m-0">Active</p>
            </div>
          </div>
          <span
            class="m-0 rounded-br-md rounded-tr-md border-b border-r border-t border-teal-300 bg-teal-100 px-1 py-2 font-semibold text-teal-600 shadow-md"
            >{{ scenario.requestCount }}</span
          >
        </div>
      } @else {
        <div
          class="flex w-fit items-center gap-x-3 rounded-md border border-red-700 bg-red-50 p-2 text-sm text-red-900 shadow-md"
        >
          <div class="flex items-center gap-x-2">
            <i class="fa-solid fa-circle text-[.5rem] text-red-400"></i>
            <p class="m-0">InActive</p>
          </div>
        </div>
      }
    </ng-template>
  </ba-generic-table>
</div>
