<div class="w-full max-w-[95vw] p-10">
  <ba-generic-table
    [data]="store.entities()"
    [total]="store.total()"
    [columns]="columns()"
    [globalFilterFields]="globalFilterFields()"
    [loading]="store.loading()"
    (delete)="store.openDeleteScenarioDialog($event)"
    (create)="store.openCreateScenarioDialog()"
  >
    <ng-template #fieldsCountTemplate let-scenario>
      <div
        class="flex items-center gap-x-2 rounded-md font-semibold bg-white border border-blue-100 w-fit p-2 shadow-md"
      >
        <p class="text-blue-500 m-0">
          {{ scenario.itemsCount }}
        </p>
        <p class="text-sm font-bold text-blue-500 m-0">Fields</p>
      </div>
    </ng-template>

    <ng-template #scenarioStatusTemplate let-scenario>
      @if (scenario.requestCount > 0){
      <div class="flex items-center text-sm">
        <div
          class="flex items-center w-fit gap-x-3 rounded-tl-md rounded-bl-md bg-green-50 text-teal-600 border border-green-900 shadow-md p-2"
        >
          <div class="flex items-center gap-x-2">
            <i class="text-teal-400 text-[.5rem] fa-solid fa-circle"></i>
            <p class="m-0">Active</p>
          </div>
        </div>
        <span
          class="m-0 font-semibold bg-teal-100 text-teal-600 border-t border-r border-b border-teal-300 rounded-tr-md rounded-br-md px-1 py-2 shadow-md"
          >{{scenario.requestCount}}</span
        >
      </div>
      } @else {
      <div
        class="flex items-center w-fit gap-x-3 rounded-md text-sm bg-red-50 text-red-900 border border-red-700 shadow-md p-2"
      >
        <div class="flex items-center gap-x-2">
          <i class="text-red-400 text-[.5rem] fa-solid fa-circle"></i>
          <p class="m-0">InActive</p>
        </div>
      </div>
      }
    </ng-template>
  </ba-generic-table>
</div>
